<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.11"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>LiquidMenu: LiquidMenu</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">LiquidMenu 1.0.0</a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="class_liquid_menu.html" title="Represents a collection of screens forming a menu. ">LiquidMenu</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><em>Menu creation Arduino library for LCDs, extends <a href="https://github.com/arduino/Arduino/tree/master/libraries/LiquidCrystal">LiquidCrystal</a>.</em></p>
<div class="image">
<img src="https://raw.githubusercontent.com/VasilKalchev/LiquidMenu/master/doc/logo.png"  alt="logo"/>
</div>
<p><b><a class="el" href="class_liquid_menu.html" title="Represents a collection of screens forming a menu. ">LiquidMenu</a></b> extends the Arduino's LiquidCrystal library with the ability to create menus. It simplifies the menu creation process by abstracting the elements of a menu into hierarchically organized classes.</p>
<h2>Features </h2>
<ul>
<li>Intuitive menu organization</li>
<li>Selectable lines</li>
<li>Callback functions</li>
</ul>
<h2>Requirements </h2>
<ul>
<li>The Arduino's <a href="https://github.com/arduino/Arduino/tree/master/libraries/LiquidCrystal">LiquidCrystal</a> library.</li>
<li>LCD supported by <a href="https://github.com/arduino/Arduino/tree/master/libraries/LiquidCrystal">LiquidCrystal</a> (<em>with Hitachi HD44780 or a compatible chipset</em>)</li>
<li>Arduino board or a compatible microcontroller</li>
<li>Input device/s is recommended (<em>buttons, rotary encoder, etc.</em>)</li>
</ul>
<h2>How to use </h2>
<h3>Classes organization</h3>
<p>This library uses hierarchically structured classes to represent the different elements of a menu.</p>
<p><em>Basic class hierarchy diagram:</em></p>
<div class="image">
<img src="https://raw.githubusercontent.com/VasilKalchev/LiquidMenu/master/doc/basic_diagram.png"  alt="Basic class hierarchy diagram" title="Basic class hierarchy diagram"/>
</div>
<p><em>Click <a href="https://raw.githubusercontent.com/VasilKalchev/LiquidMenu/master/doc/diagram.png">here</a> for a complete hierarchy diagram.</em></p>
<p>The <b><a class="el" href="class_liquid_line.html" title="Represents the individual lines printed on the display. ">LiquidLine</a></b> class represents a <b>line</b> of text/variables on the display.</p>
<p>The <b><a class="el" href="class_liquid_screen.html" title="Represents a screen shown on the display. ">LiquidScreen</a></b> class represents a collection of <b>lines</b> that are shown together at the same time on the display (<em>i.e. "the current screen"</em>).</p>
<p>The <b><a class="el" href="class_liquid_menu.html" title="Represents a collection of screens forming a menu. ">LiquidMenu</a></b> class combines the <b>screens</b> to form a <b>menu</b>. It can switch between the them, call attached functions, etc.</p>
<p>The <b><a class="el" href="class_liquid_system.html" title="Represents a collection of menus forming a menu system. ">LiquidSystem</a></b> is an optional class that combines <b>menus</b> to form a <b>menu system</b> (<em>e.g. Main menu, Outputs, Settings, etc.</em>). It has the same public interface as <b><a class="el" href="class_liquid_menu.html" title="Represents a collection of screens forming a menu. ">LiquidMenu</a></b>.</p>
<h3>Creating a menu</h3>
<p>Menu creation is all about structure. First there are variables/constants that go into the <b><a class="el" href="class_liquid_line.html" title="Represents the individual lines printed on the display. ">LiquidLine</a></b> objects. Then the <b><a class="el" href="class_liquid_line.html" title="Represents the individual lines printed on the display. ">LiquidLine</a></b> objects go into the <b><a class="el" href="class_liquid_screen.html" title="Represents a screen shown on the display. ">LiquidScreen</a></b> objects. Then <b><a class="el" href="class_liquid_screen.html" title="Represents a screen shown on the display. ">LiquidScreen</a></b> objects go into the <b><a class="el" href="class_liquid_menu.html" title="Represents a collection of screens forming a menu. ">LiquidMenu</a></b> object/s. And optionally the <b><a class="el" href="class_liquid_menu.html" title="Represents a collection of screens forming a menu. ">LiquidMenu</a></b> objects go into the <b><a class="el" href="class_liquid_system.html" title="Represents a collection of menus forming a menu system. ">LiquidSystem</a></b> object. This structure can be established on object instantiation or later with functions:</p>
<ul>
<li><code><a class="el" href="class_liquid_line.html#a36a3a4f5375b1e869059c68cfe23d760" title="Constructor for one variable/constant. ">LiquidLine::LiquidLine</a>(byte column, byte row, A &amp;variableA, B &amp;variableB...); //takes up to 4 variables</code></li>
<li><code><a class="el" href="class_liquid_screen.html#a28adb701dcf9af8a1c66c66f5e393d97" title="The main constructor. ">LiquidScreen::LiquidScreen</a>(<a class="el" href="class_liquid_line.html" title="Represents the individual lines printed on the display. ">LiquidLine</a> &amp;liquidLine1, <a class="el" href="class_liquid_line.html" title="Represents the individual lines printed on the display. ">LiquidLine</a> &amp;liquidLine2...); //takes up to 4 lines</code></li>
<li><code><a class="el" href="class_liquid_menu.html#a90ddd46f0cdccf524d5763fcdc975e70" title="The main constructor. ">LiquidMenu::LiquidMenu</a>(LiquidCrystal &amp;liquidCrystal, <a class="el" href="class_liquid_screen.html" title="Represents a screen shown on the display. ">LiquidScreen</a> &amp;liquidScreen1, <a class="el" href="class_liquid_screen.html" title="Represents a screen shown on the display. ">LiquidScreen</a> &amp;liquidScreen2..., byte startingScreen = 1); //takes up to 3 screens</code></li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{c++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;/*</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;This example demonstrates how to make a menu of 2 screens and 3 lines.</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;*/</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;LiquidCrystal lcd(RS, E, D4, D5, D6, D7);</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;// Instantiate a LiquidLine object on column 4, row 0, printing &quot;Hello&quot;.</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;LiquidLine line1(4, 0, &quot;Hello&quot;);</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;LiquidLine line2(4, 1, &quot;World&quot;);</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;// Put the above two lines into a LiquidScreen object.</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;LiquidScreen screen1(line1, line2);</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;int variable1 = 123;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;// Instantiate a line with text and variable.</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;LiquidLine var1_line(0, 0, &quot;Variable 1: &quot;, variable1);</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;// This screen will only have one line.</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;LiquidScreen screen2(var1_line);</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;// The menu object takes a reference to the LiquidCrystal object and the screens.</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;LiquidMenu menu(lcd, screen1, screen2);</div></div><!-- fragment --><ul>
<li><code>LiquidSystem::LiquidSystem(<a class="el" href="class_liquid_menu.html" title="Represents a collection of screens forming a menu. ">LiquidMenu</a> &amp;liquidMenu1, <a class="el" href="class_liquid_menu.html" title="Represents a collection of screens forming a menu. ">LiquidMenu</a> &amp;liquidMenu2, byte startingMenu = 1); //takes up to 3 menus</code></li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{c++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;/*</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;This example demonstrates how to make a menu system of 3 menus, how to add the</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;screens to the menus with functions and how to implement a variable text.</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;*/</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;LiquidCrystal lcd(RS, E, D4, D5, D6, D7);</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;// Lines can be used in more than one screen.</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;LiquidLine back_line(10, 1, &quot;-BACK&quot;);</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;// ---------- MAIN MENU ----------</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;// For changing text use char*.</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;char* name;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;LiquidLine hello_line(4, 0, &quot;Hello&quot;);</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;// This will print the text that the variable `name` points to.</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;LiquidLine name_line(4, 1, name);</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;LiquidScreen welcome_screen(hello_line, name_line);</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;// Lines can be used as links to other menus.</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;LiquidLine other_sLine(0, 0, &quot;-Other&quot;);</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;LiquidLine preferences_sLine(0, 1, &quot;-Preferences&quot;);</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;LiquidScreen shortcuts_screen(other_line, preferences_line);</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;LiquidMenu main_menu(lcd, welcome_screen, shortcuts_screen);</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;// -------------------------------</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;// ---------- OTHER MENU ----------</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;LiquidLine other_line(0, 0, &quot;Other menu&quot;);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;LiquidScreen other_screen(other_line, back_line);</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;LiquidMenu other_menu(lcd, other_screen);</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;// --------------------------------</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;// ---------- PREFERENCES MENU ----------</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;LiquidLine pref_line1(0, 0, &quot;Prefs menu&quot;);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;LiquidScreen pref_screen(pref_line1, back_line);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;// The screen will be added later.</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;LiquidMenu pref_menu(lcd);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;// --------------------------------------</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;// The menu system takes references to the menus.</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;LiquidSystem menu_system(main_menu, other_menu, pref_menu);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;void setup() {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    // Change the variable &#39;name&#39; so the &#39;welcome&#39; screen prints &quot;Hello Menu&quot;.</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    name = &quot;Menu&quot;;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    // Add a screen to a menu. The same works for the other object types.</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    pref_menu.add_screen(pref_screen);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div></div><!-- fragment --><h3>Navigating the menu</h3>
<p>The menu is navigated from the <b><a class="el" href="class_liquid_menu.html" title="Represents a collection of screens forming a menu. ">LiquidMenu</a></b> object or if there are multiple menus - the <b><a class="el" href="class_liquid_system.html" title="Represents a collection of menus forming a menu system. ">LiquidSystem</a></b> object.</p>
<ul>
<li><code>void <a class="el" href="class_liquid_menu.html#a6046bb5792ad188b25a5b0e2d7e27fc0" title="Switches to the next screen. ">LiquidMenu::next_screen()</a></code> - go to the next screen</li>
<li><code>void <a class="el" href="class_liquid_menu.html#a3924794ce6e3e95bb7b94c3c18d6d9a9" title="Switches to the previous screen. ">LiquidMenu::previous_screen()</a></code> - go to the previous screen</li>
<li><code>bool <a class="el" href="class_liquid_menu.html#a406b6d717f642b116e4bba998f27393c" title="Switches to the specified screen. ">LiquidMenu::change_screen(LiquidScreen &amp;liquidScreen)</a></code> - go to a specific screen</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{c++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;/*</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;This example demonstrates how to switch to the next/previous screen using some condition.</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;*/</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;...</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;LiquidMenu menu(lcd, screen1, screen2);</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;void setup() {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    ...</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    pinMode(rightButton, INPUT);</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    pinMode(leftButton, INPUT);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;}</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;void loop() {</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    // Example condition that checks if a button is pressed.</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    if (rightButton) {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        menu.next_screen();</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    }</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    if (leftButton) {</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        menu.previous_screen();</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;}</div></div><!-- fragment --><h3>Callback functions</h3>
<h4>Attaching a function</h4>
<p>Callback functions are attached to some <b><a class="el" href="class_liquid_line.html" title="Represents the individual lines printed on the display. ">LiquidLine</a></b> object (<em>e.g. <code><a class="el" href="class_liquid_line.html" title="Represents the individual lines printed on the display. ">LiquidLine</a> led_line(0, 0, "LED: ", ledState);</code></em>) with the <code><a class="el" href="class_liquid_line.html#a0d517f28006aa523b8c8753199d0bdac" title="Attaches a callback function to the line. ">LiquidLine::attach_function</a>(byte number, void (*function)(void));</code> function. There can be up to 8 functions by default and the number identifies them. The second parameter takes a pointer to a <code>void function()</code>.</p>
<ul>
<li><code><a class="el" href="class_liquid_line.html#a0d517f28006aa523b8c8753199d0bdac" title="Attaches a callback function to the line. ">LiquidLine::attach_function</a>(byte number, void (*function)(void));</code></li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{c++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;/*</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;This example demonstrates how to attach a function to some line. The callback</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;function will change a variable and write its value to a pin. It will be</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;attached to `led_line` under the number 1.</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;*/</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;...</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;const byte ledPin = 3;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;// We need a variable that holds the state.</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;byte ledState = 0;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;LiquidLine led_line(0, 0, &quot;LED: &quot;, ledState);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;/*</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;Callback functions for changing some state need to change the variable that</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;is printed on the display and in this case write in to the appropriate pin.</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;*/</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;void inc_led() {</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    ledState += 10;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    analogWrite(ledPin, ledState);</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;}</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;...</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;void setup() {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    // The `void inc_led()` function is attached under number 1.</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    led_line.attach_function(1, inc_led);</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div></div><!-- fragment --><h4>Calling a function</h4>
<p>To call an attached function it needs to be focused (selected) using the <code><a class="el" href="class_liquid_menu.html#a558e3573fca7d6774ada70709c1dc2c3" title="Switches the focus. ">LiquidMenu::switch_focus()</a></code> function. When the function is selected, it can be called with <code>LiquidMenu::call_function(byte functionNumber)</code>. Similar functions should be attached with the same number to the different lines. For example 'incrementing functions' can be attached with the number 1, then with a button press (<em>button 'UP' preferably</em>), the focused line's incrementing function will be called.</p>
<ul>
<li><code><a class="el" href="class_liquid_menu.html#a558e3573fca7d6774ada70709c1dc2c3" title="Switches the focus. ">LiquidMenu::switch_focus()</a>;</code> - switches the focus to the next line</li>
<li><code>LiquidMenu::call_function(byte functionNumber);</code> - calls the attached function to the focused line under the specified functionNumber)</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{c++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;/*</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;This example demonstrates how to call an attached function.</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;*/</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;...</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;void loop() {</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    // We need to be able to move the focus between the lines.</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    if (middleButton) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        menu.switch_focus();</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    }</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    // If the &#39;UP&#39; button is pressed - call the function</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    // identified as 1 for the focused line.</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    if (upButton) {</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        menu.call_function(1);</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    }</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;}</div></div><!-- fragment --><h3>Customizing the focus indicator</h3>
<p>The <b>focus indicator</b> on default appears just after the line. It can be configured to appear before the line or in a custom absolute position. If it appears after the line the symbol used is '&lt;', before the line - '&gt;', in a custom position - the symbol a square. These symbols can be changed individually.</p>
<ul>
<li><code><a class="el" href="class_liquid_line.html#a84f19c3724695929a6a6cc3ef6083865" title="Configures the focus indicator position for the line. ">LiquidLine::set_focusPosition</a>(Position position, byte column = 0, byte row = 0);</code> - <code>Position</code> is an enum class that has <code>RIGHT</code>, <code>LEFT</code> and <code>CUSTOM</code> as parameters, if the position is <code>CUSTOM</code> then the column and the row needs to be specified</li>
<li><code><a class="el" href="class_liquid_screen.html#a6b025aaf4ba5d0749aa828a303e64415" title="Sets the focus position for the whole screen at once. ">LiquidScreen::set_focusPosition(Position position)</a>;</code> - the focus position can be changed for the whole screen at once (<em>it can't be changed to <code>CUSTOM</code> because it needs individual coordinates</em>)</li>
<li><code><a class="el" href="class_liquid_menu.html#acdce4caf01ad04fcbb8b7bbc91db98b2" title="Sets the focus position for the whole menu at once. ">LiquidMenu::set_focusPosition(Position position)</a>;</code> - change the focus position for the whole menu at once</li>
<li><code>LiquidSystem::set_focusPosition(Position position);</code> - change the focus position for the whole menu system at once</li>
<li><code>LiquidMenu::set_focusSymbol(Position position, byte symbol[8])</code> - this changes the focus symbol for a particular position</li>
<li><code>LiquidMenu::set_focusSymbol(Position position, byte symbol[8])</code> - equivalent (because of the way the symbol is stored)</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{c++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;/*</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;This example demonstrates how to customize the focus indicator position and appearance.</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;*/</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;...</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;// Indicator symbol definition. Create a new one from [here](http://omerk.github.io/lcdchargen/).</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;byte lFocus[8] = {</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    0b00000,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    0b00000,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    0b00100,</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    0b01110,</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    0b00100,</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    0b00000,</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    0b00000,</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    0b00000</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;};</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;void setup() {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    // Set the focus position for `line1` to `CUSTOM`.</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    line1.set_focusPosition(Position::CUSTOM, 3, 0);</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    // Set the focus position for `screen2` to `LEFT`.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    screen2.set_focusPosition(Position::LEFT);</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    // Change the left focus indicator symbol to the specified one.</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    menu.set_focusSymbol(Position::LEFT, lFocus);</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;}</div></div><!-- fragment --><p> More examples are available [here][].</p>
<h2>More information </h2>
<p>[Examples]()</p>
<p>[Documentation]()</p>
<h2>License </h2>
<p>The MIT License (MIT)</p>
<p>Copyright (c) 2016 Vasil Kalchev</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
